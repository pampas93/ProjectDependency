<!----------------------------------------------------------------------------
FileMgr.cpp Help file for Project #3
 Published 4 Apr 2017
 Abhijit Srikanth, CSE687 - Object Oriented Design, Spring 2017

 The below file is the webpage of the source code for FileMgr.cpp and holds links to its dependent files

 Note -Do not replace any markup characters with escape sequences
----------------------------------------------------------------------------->
<html>
<head>
<link rel = "stylesheet"type = "text/css"href = "../CodePublishHTML/myStyle.css" /></head>
<body class = "indent">
<script type="text/javascript" src="../CodePublishHTML/jquery-2.2.4.js"></script>
<script type="text/javascript" src="../CodePublishHTML/myJS.js"></script><h3>FileMgr.cpp</h3>
<hr><div class = "indent"><h4>Dependencies :</h4><ul><li> <a href="../CodePublishHTML/IFileMgr.h.html">IFileMgr.h</a> </li><li> <a href="../CodePublishHTML/FileMgr.h.html">FileMgr.h</a> </li><li> <a href="../CodePublishHTML/FileSystem.h.html">FileSystem.h</a> </li>
</ul></div><hr>
<pre>
/////////////////////////////////////////////////////////////////////
// FileMgr.cpp - find files matching specified patterns            //
//               on a specified path                               //
// ver 2.2                                                         //
// Jim Fawcett, CSE687 - Object Oriented Design, Spring 2016       //
/////////////////////////////////////////////////////////////////////

#include "FileMgr.h"
#include &lt;iostream&gt;

using namespace FileManager;

IFileMgr* FileMgr::pInstance_;

IFileMgr* IFileMgr::getInstance()
<div class="header">-  {</div><div class="content">
  return FileMgr::getInstance();
</div>}

#ifdef TEST_FILEMGR

using namespace FileManager;

struct FileHandler : IFileEventHandler
{
  void execute(const std::string& fileSpec)
  <div class="header">-  {</div><div class="content">
    std::cout &lt;&lt; "\n  --   " &lt;&lt; fileSpec;
  </div>}
};

struct DirHandler : IDirEventHandler
{
  void execute(const std::string& dirSpec)
  <div class="header">-  {</div><div class="content">
    std::cout &lt;&lt; "\n  ++ " &lt;&lt; dirSpec;
  </div>}
};

struct DoneHandler : IDoneEventHandler
{
  void execute(size_t numFilesProcessed)
  <div class="header">-  {</div><div class="content">
    std::cout &lt;&lt; "\n\n  Processed " &lt;&lt; numFilesProcessed &lt;&lt; " files";
  </div>}
};
int main()
<div class="header">-  {</div><div class="content">
  std::cout &lt;&lt; "\n  Testing FileMgr";
  std::cout &lt;&lt; "\n =================";

  std::string path = FileSystem::Path::getFullFileSpec("..");
  IFileMgr* pFmgr = FileMgrFactory::create(path);

  FileHandler fh;
  DirHandler dh;
  DoneHandler dnh;

  pFmgr-&gt;regForFiles(&fh);
  pFmgr-&gt;regForDirs(&dh);
  pFmgr-&gt;regForDone(&dnh);

  pFmgr-&gt;addPattern("*.h");
  pFmgr-&gt;addPattern("*.cpp");
  //pFmgr-&gt;addPattern("*.log");

  pFmgr-&gt;search();

  std::cout &lt;&lt; "\n\n";
  return 0;
</div>}
#endif
</pre>
</body>
</html>