<!----------------------------------------------------------------------------
UnitTest.h Help file for Project #3
 Published 4 Apr 2017
 Abhijit Srikanth, CSE687 - Object Oriented Design, Spring 2017

 The below file is the webpage of the source code for UnitTest.h and holds links to its dependent files

 Note -Do not replace any markup characters with escape sequences
----------------------------------------------------------------------------->
<html>
<head>
<link rel = "stylesheet"type = "text/css"href = "../CodePublishHTML/myStyle.css" /></head>
<body class = "indent">
<script type="text/javascript" src="../CodePublishHTML/jquery-2.2.4.js"></script>
<script type="text/javascript" src="../CodePublishHTML/myJS.js"></script><h3>UnitTest.h</h3>
<hr><div class = "indent"><h4>Dependencies :</h4><ul><li> <a href="../CodePublishHTML/FileSystem.cpp.html">FileSystem.cpp</a> </li><li> <a href="../CodePublishHTML/CopyOfUnitTest.h.html">CopyOfUnitTest.h</a> </li><li> <a href="../CodePublishHTML/Utilities.h.html">Utilities.h</a> </li><li> <a href="../CodePublishHTML/Cpp11-BlockingQueue.cpp.html">Cpp11-BlockingQueue.cpp</a> </li><li> <a href="../CodePublishHTML/FileSystemTest.cpp.html">FileSystemTest.cpp</a> </li><li> <a href="../CodePublishHTML/GrammarHelpers.cpp.html">GrammarHelpers.cpp</a> </li><li> <a href="../CodePublishHTML/UnitTest.cpp.html">UnitTest.cpp</a> </li>
</ul></div><hr>
<pre>
#ifndef UNITTEST_H
#define UNITTEST_H
///////////////////////////////////////////////////////////////
// UnitTest.cpp - Demonstrate unit testing framework         //
// ver 1.1                                                   //
// --------------------------------------------------------- //
// copyright © Jim Fawcett, 2012, 2013                       //
// All rights granted provided that this notice is retained  //
// --------------------------------------------------------- //
// Jim Fawcett, CSE687-Object Oriented Design, Spring 2013   //
///////////////////////////////////////////////////////////////

#include &lt;string&gt;
#include &lt;iostream&gt;

namespace Test
{
  void Title(const std::string& title, char ch='=')
  <div class="header">-  {</div><div class="content">
    std::cout &lt;&lt; "\n  " &lt;&lt; title;
    std::cout &lt;&lt; "\n " &lt;&lt; std::string(title.size() + 2, ch);
  </div>}

  template &lt;typename T&gt;
  class TestBase
  <div class="header">-  {</div><div class="content">
  public:

    typedef bool (T::*Test) ();

    virtual ~TestBase() {}

    // Your test driver implements this for each major test
    // - call a sequence of doTest(TestN)s
    //-----------------------------------------------------
    virtual bool test()=0;

    // Executes test functions inside a try block
    //-------------------------------------------
    bool doTest(Test atest) 
    { 
      try
      {
        return (dynamic_cast&lt;T*&gt;(this)-&gt;*atest)();
      }
      catch (std::exception& ex)
      {
        std::cout &lt;&lt; "\n  failed: " &lt;&lt; ex.what();
        return false;
      }
      catch(...)
      {
        std::cout &lt;&lt; "\n  failed: thrown structured exception";
        return false;
      }
    </div>}
    // Call this in your test functions to save duplicating output statements
    //-----------------------------------------------------------------------
    bool checkResult(bool predicate, std::string testname)
    <div class="header">-  {</div><div class="content">
      std::string name = std::string(typeid(*this).name()) + "::" + testname;
      name = name.substr(6, name.size() - 6);
      if(predicate)
        return passed(name);
      else
        return failed(name);
    </div>}
  protected:
    bool passed(const std::string& name)
    <div class="header">-  {</div><div class="content">
      std::cout &lt;&lt; "\n  passed: " &lt;&lt; name;
      return true;
    </div>}
    bool failed(const std::string& name)
    <div class="header">-  {</div><div class="content">
      std::cout &lt;&lt; "\n  failed: " &lt;&lt; name;
      return false;
    </div>}
  </div>};
}
#endif
</pre>
</body>
</html>